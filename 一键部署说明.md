# 🚀 一键部署说明

## ✅ 当前状态

- ✅ 项目文件已创建
- ✅ Git 仓库已初始化
- ✅ 代码已提交
- ✅ 自动化脚本已创建

## 🎯 快速部署（3步完成）

### 第 1 步：运行自动化脚本

在 PowerShell 中（在 `shopify-mcp-server` 目录下）：

```powershell
.\自动部署.ps1
```

脚本会自动：
- ✅ 检查 Git 配置
- ✅ 提示您输入 GitHub 用户名
- ✅ 添加远程仓库
- ✅ 准备推送代码

### 第 2 步：创建 GitHub 仓库并推送

**如果脚本提示需要创建仓库**：

1. 访问：https://github.com/new
2. 仓库名：`shopify-mcp-server`
3. 选择 **Public**
4. 点击 **Create repository**
5. 回到脚本，输入您的 GitHub 用户名
6. 脚本会自动推送代码

**如果需要配置 GitHub Token**：

1. 访问：https://github.com/settings/tokens
2. 点击 "Generate new token (classic)"
3. 勾选 `repo` 权限
4. 生成后复制 Token
5. 推送时，用户名用您的 GitHub 用户名，密码用 Token

### 第 3 步：在 Vercel 部署

1. **访问 Vercel**：https://vercel.com
2. **登录**：使用 GitHub 账号登录
3. **导入项目**：
   - 点击 "Add New..." → "Project"
   - 选择 `shopify-mcp-server` 仓库
   - 点击 "Import"
4. **配置项目**：
   - Framework Preset: **Other**
   - 其他保持默认
5. **设置环境变量**（重要！）：
   - 点击 "Environment Variables"
   - 添加：
     - `SHOPIFY_STORE` = `happier-shopping-3.myshopify.com`
     - `SHOPIFY_ACCESS_TOKEN` = `your_shopify_access_token_here`
   - 两个变量都选择所有环境（Production, Preview, Development）
6. **部署**：
   - 点击 "Deploy"
   - 等待 1-2 分钟
   - 复制部署地址（类似：`https://xxx.vercel.app`）

### 第 4 步：在 Dify 中配置

1. **登录 Dify**：
   - 邮箱：`social3085@social.helwan.edu.eg`
   - 密码：`Welcome@123`

2. **添加 MCP 服务器**：
   - 工具 → MCP → 添加 MCP 服务器（HTTP）
   - 服务器 URL：`https://您的vercel地址.vercel.app`
   - 名称：`Shopify MCP`
   - 服务器标识符：`shopify_mcp`

3. **验证**：
   - 保存后应该看到 3 个工具
   - `get_products`, `get_product_by_id`, `search_products`

## 🎉 完成！

现在您可以在 Dify 中查询 Shopify 商品了！

## 🐛 遇到问题？

### 问题 1：GitHub 推送失败

**解决方案**：
- 确保已创建 GitHub 仓库
- 使用 Personal Access Token 而不是密码
- 检查仓库名称是否正确

### 问题 2：Vercel 部署失败

**检查**：
- 环境变量是否正确设置
- 查看 Vercel 部署日志
- 确认 `vercel.json` 文件存在

### 问题 3：Dify 无法连接

**检查**：
- 服务器 URL 是否正确（包含 https://）
- 访问 `/health` 端点验证服务器运行
- 查看 Vercel 项目是否部署成功

## 📞 需要帮助？

查看 `Vercel部署步骤-详细版.md` 获取更详细的说明。

